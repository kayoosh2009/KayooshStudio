<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <style>
        :root {
            --width: 300px;
            --height: 150px;
            --duration: 10000ms; /* 10 секунд */
        }

        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: transparent; /* Прозрачный фон для OBS */
            overflow: hidden;
        }

        #banner-container {
            width: var(--width);
            height: var(--height);
            position: relative;
            background-color: #000000;
            background-image: url('back.png');
            background-size: cover;
            background-position: center;
            border-radius: 20px;
            overflow: hidden;
        }

        .ad-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* Чтобы фото заполняло весь прямоугольник */
            opacity: 0;
            transition: opacity 1s ease-in-out;
            z-index: 1;
        }

        .ad-image.active {
            opacity: 1;
            z-index: 2;
        }

        /* Белая полоска */
        #progress-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 4px;
            background: #ffffff;
            width: 0%;
            z-index: 10;
        }

        /* Класс для запуска анимации */
        .run-animation {
            animation: fillBar var(--duration) linear forwards;
        }

        @keyframes fillBar {
            from { width: 0%; }
            to { width: 100%; }
        }
    </style>
</head>
<body>

<div id="banner-container">
    <div id="images-wrapper">
        <img src="https://i.pinimg.com/736x/1c/a4/93/1ca49334fefb8def1f1cd1e77db2673d.jpg" class="ad-image active">
        <img src="https://i.pinimg.com/736x/4e/8b/6a/4e8b6acf4c16b7bc7b9687562db60d89.jpg" class="ad-image">
        <img src="https://via.placeholder.com/300x150/000000/FFFFFF?text=Ad+3" class="ad-image">
    </div>
    
    <div id="progress-bar"></div>
</div>

<script>
    const images = document.querySelectorAll('.ad-image');
    const progressBar = document.getElementById('progress-bar');
    let currentIndex = 0;

    function startCycle() {
        // Сначала запускаем полоску
        progressBar.classList.add('run-animation');

        setInterval(() => {
            // 1. Убираем активный класс у текущего фото
            images[currentIndex].classList.remove('active');

            // 2. Считаем индекс следующего
            currentIndex = (currentIndex + 1) % images.length;

            // 3. Показываем новое фото
            images[currentIndex].classList.add('active');

            // 4. Перезапускаем анимацию полоски (сброс класса)
            progressBar.classList.remove('run-animation');
            void progressBar.offsetWidth; // Магия для принудительного обновления DOM
            progressBar.classList.add('run-animation');

        }, 10000);
    }

    // Запускаем, когда всё загрузится
    window.onload = startCycle;
</script>

</body>
</html>
